{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLocation,useNavigate}from'react-router-dom';import{searchMovies}from'../services/movieService';import{useTranslation}from'react-i18next';import'bootstrap/dist/css/bootstrap.min.css';import'./SearchResultsPage.css';// Import the CSS file\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const useQuery=()=>{return new URLSearchParams(useLocation().search);};const SearchResultsPage=()=>{const query=useQuery().get('query');const navigate=useNavigate();const[searchResults,setSearchResults]=useState([]);const{t}=useTranslation();useEffect(()=>{const fetchResults=async()=>{const results=await searchMovies(query);setSearchResults(results);console.log(results);// Add this line to check the structure of the results\n};if(query){fetchResults();}},[query]);const handleResultClick=imdbID=>{navigate(\"/movie/\".concat(imdbID));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[t('searchResultsFor'),\" \\\"\",query,\"\\\"\"]}),searchResults.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:searchResults.map((result,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-3 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>handleResultClick(result.imdbID),children:/*#__PURE__*/_jsx(\"img\",{src:result.Poster,className:\"card-img-top\",alt:result.Title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[index+1,\". \",result.Title]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"\\u2B50 \",result.imdbRating||'N/A']}),/*#__PURE__*/_jsx(\"a\",{href:\"https://www.youtube.com/results?search_query=\".concat(result.Title,\"+trailer\"),target:\"_blank\",rel:\"noopener noreferrer\",className:\"btn btn-primary black-text\",children:t('watchTrailer')})]})]})},result.imdbID))}):/*#__PURE__*/_jsx(\"p\",{children:t('noResultsFound')})]});};export default SearchResultsPage;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","searchMovies","useTranslation","jsxs","_jsxs","jsx","_jsx","useQuery","URLSearchParams","search","SearchResultsPage","query","get","navigate","searchResults","setSearchResults","t","fetchResults","results","console","log","handleResultClick","imdbID","concat","className","children","length","map","result","index","onClick","src","Poster","alt","Title","imdbRating","href","target","rel"],"sources":["C:/Users/Serhan/Desktop/berkayodev3/frontend/src/pages/SearchResultsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { searchMovies } from '../services/movieService';\r\nimport { useTranslation } from 'react-i18next';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './SearchResultsPage.css'; // Import the CSS file\r\n\r\nconst useQuery = () => {\r\n  return new URLSearchParams(useLocation().search);\r\n};\r\n\r\nconst SearchResultsPage = () => {\r\n  const query = useQuery().get('query');\r\n  const navigate = useNavigate();\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const { t } = useTranslation();\r\n\r\n  useEffect(() => {\r\n    const fetchResults = async () => {\r\n      const results = await searchMovies(query);\r\n      setSearchResults(results);\r\n      console.log(results); // Add this line to check the structure of the results\r\n    };\r\n    if (query) {\r\n      fetchResults();\r\n    }\r\n  }, [query]);\r\n\r\n  const handleResultClick = (imdbID) => {\r\n    navigate(`/movie/${imdbID}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h1>{t('searchResultsFor')} \"{query}\"</h1>\r\n      {searchResults.length > 0 ? (\r\n        <div className=\"row\">\r\n          {searchResults.map((result, index) => (\r\n            <div key={result.imdbID} className=\"col-md-4 col-lg-3 mb-4\">\r\n              <div className=\"card\">\r\n                <div onClick={() => handleResultClick(result.imdbID)}>\r\n                  <img src={result.Poster} className=\"card-img-top\" alt={result.Title} />\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{index + 1}. {result.Title}</h5>\r\n                  <p className=\"card-text\">‚≠ê {result.imdbRating || 'N/A'}</p>\r\n                  <a\r\n                    href={`https://www.youtube.com/results?search_query=${result.Title}+trailer`}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"btn btn-primary black-text\"\r\n                  >\r\n                    {t('watchTrailer')}\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <p>{t('noResultsFound')}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchResultsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}